epochs = 1

# ===== MAIN CONFIG =====

dataset = "/workspace/repo/configs/joana_flux/dataset_smoke.toml"
output_dir = "/workspace/outputs/joana_flux"

logging_steps = 1
save_every_n_steps = 1
eval_before_first_step = false

pipeline_stages = 1
gradient_accumulation_steps = 1
micro_batch_size_per_gpu = 1

[model]
type = "flux"
dtype = "float16"
diffusers_path = "/workspace/models/flux1-dev"

[adapter]
type = "lora"
rank = 16
dropout = 0.0

[optimizer]
type = "adamw"
lr = 1e-4
weight_decay = 0.01